/*! qrcode.js v1.0.0 (MIT) | https://github.com/davidshimjs/qrcodejs */
!(function(){function t(t){this.mode=o.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=[],r=0,n=this.data.length;n>r;r++){var i=[],h=this.data.charCodeAt(r);h>65536?(i[0]=240|(1835008&h)>>>18,i[1]=128|(258048&h)>>>12,i[2]=128|(4032&h)>>>6,i[3]=128|63&h):h>2048?(i[0]=224|(61440&h)>>>12,i[1]=128|(4032&h)>>>6,i[2]=128|63&h):h>128?(i[0]=192|(1984&h)>>>6,i[1]=128|63&h):i[0]=h,e.push(i)}this.parsedData=[].concat.apply([],e),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}function n(t,e){this.totalCount=t,this.dataCount=e}function i(){this.buffer=[],this.length=0}function h(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}function u(t,e,r){void 0==t.length&&(t=[t]);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+r);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n];this.addition(e)}function c(t,e){this._el=t,this._htOption=e}function f(t,e){var r=e,r=function(t){var e=t.clientX,r=t.clientY;if(null==e||null==r)return!1;var n=document.documentElement;return n?(e-=n.scrollLeft,r-=n.scrollTop):document.body&&(e-=document.body.scrollLeft,r-=document.body.scrollTop),{x:e,y:r}}(t);if(null==r)return!1;var n=function(t,e){var r=t._el,n=r.clientWidth,i=r.clientHeight;if(0==n||0==i)return!1;var h=r.getBoundingClientRect();return e.x>=Math.floor(h.left)&&e.x<=Math.ceil(h.right)&&e.y>=Math.floor(h.top)&&e.y<=Math.ceil(h.bottom)}(r,e);return n}function a(t,e){for(var r=1,n=function(t){var e=t.length,r=0;for(var n in t)r++;return e+r}(t);n>r;r++);return new l(r,t,e)}function l(t,e,r){this.typeNumber=t,this.errorCorrectLevel=r,this.qrRSBlock=[],this.moduleCount=0,this.dataCache=null,this.dataList=[],this.makeImpl(e)}function s(){for(var t=0,e=0,r=arguments.length;r>e;e++)t+=arguments[e];return t}function g(t,e){var r,t=o.getBCHTypeNumber(t)<<12,e=o.getBCHTypeNumber(e);return t^e}function d(t,e){for(var r=4,n=0;n<t.length&&t[n]>0;n++)r++;for(var i=o.getLengthInBits(t.mode),h=t.parsedData.length,u=0,c=0,c=0;c<h;c++)u+=Math.floor(Math.log(t.parsedData[c])/Math.log(2))+1;return r+i+u+4<=e}var o={PAD0:236,PAD1:17,MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8,ERROR_CORRECT_L:1,ERROR_CORRECT_M:0,ERROR_CORRECT_Q:3,ERROR_CORRECT_H:2,getBCHTypeInfo:function(t){for(var e=t<<10;0<=e;o.getBCHDigit(e)>=o.getBCHDigit(1335)&&o.getBCHDigit(e)<=o.getBCHDigit(7973);)e^=7973<<o.getBCHDigit(e)-o.getBCHDigit(7973);return t<<10|e},getBCHTypeNumber:function(t){for(var e=t<<12;0<=e;o.getBCHDigit(e)>=o.getBCHDigit(27039)&&o.getBCHDigit(e)<=o.getBCHDigit(19935);)e^=19935<<o.getBCHDigit(e)-o.getBCHDigit(19935);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>=1;return e},getPatternPosition:function(t){return o.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case 0:return(e+r)%2==0;case 1:return e%2==0;case 2:return r%3==0;case 3:return(e+r)%3==0;case 4:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case 5:return e*r%2+e*r%3==0;case 6:return(e*r%2+e*r%3)%2==0;case 7:return(e*r%3+Math.floor((e+r)/2))%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),n=0;t>n;n++)e=e.multiply(new r([1,Math.pow(2,n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&10>e)switch(t){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:return 8;case o.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;e>n;n++)for(var i=0;e>i;i++){for(var h=0,u=t.isDark(n,i),c=-1;1>=c;c++)if(!(0>n+c||n+c>=e))for(var f=-1;1>=f;f++)0>i+f||i+f>=e||(0!=c||0!=f)&&u==t.isDark(n+c,i+f)&&h++;h>5&&(r+=3+h-5)}for(var a=0;e-1>a;a++)for(var l=0;e-1>l;l++){var s=0;t.isDark(a,l)&&s++,t.isDark(a+1,l)&&s++,t.isDark(a,l+1)&&s++,t.isDark(a+1,l+1)&&s++;(0==s||4==s)&&(r+=3)}for(var g=0;e>g;g++)for(var d=0,o=0;e>d;d++)o+=t.isDark(g,d)?1:0,o%5==0&&(g+=3);for(var v=0;e>v;v++)for(var m=0,o=0;o<e;o++)t.isDark(o,v)&&m++;return r+=10*Math.abs(50-100*(o/e)/100)}},v=function(t,e){for(var r=1,n=t.length;n>=0;n--)r=131*r%1000000007+o.strToUTF8Bytes(t[n]);return(e?113:119)*r%1000000007};e.prototype={addData:function(e){var r=new t(e);this.dataList.push(r),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1)},makeImpl:function(t){this.typeNumber||(this.typeNumber=function(t){for(var e=1,r=1,n=0;1>n&&40>=e;e++)if(n=d(t,r=o.getBCHTypeNumber(r)-7)){var i=r;break}if(40<i)throw new Error("Too long data"+r);return i}(this.dataList)),this.makeImplOpt()},makeImplOpt:function(){this.moduleCount=4+this.typeNumber*4,this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++)this.modules[t]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0),1<=this.typeNumber&&this.setupTypeNumber(!0),this.dataCache=this.createData(this.typeNumber,this.errorCorrectLevel,this.dataList),this.mapData(this.dataCache,!0)},makeImplStatic:function(t,e){if(!this.typeNumber||this.typeNumber!=t)throw new Error("typeNumber mismatch"+t+","+this.typeNumber);this.errorCorrectLevel!=e&& (this.errorCorrectLevel=e);this.make()},setupPositionProbePattern:function(t,e){for(var r=-1;7>=r;r++)if(!(0>t+r||this.moduleCount<=t+r))for(var n=-1;7>=n;n++)0>e+n||this.moduleCount<=e+n||(r>=0&&6>=r&&(0==n||6==n)||n>=0&&6>=n&&(0==r||6==r)||r>=2&&4>=r&&n>=2&&4>=n?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0),null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var t=o.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(null==this.modules[n][i])for(var h=-2;2>=h;h++)for(var u=-2;2>=u;u++)this.modules[n+h][i+u]= -2==h||2==h||-2==u||2==u||0==h&&0==u}},setupTypeNumber:function(t){for(var e=o.getBCHTypeNumber(this.typeNumber),r=0;18>r;r++){var n=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;18>r;r++){n=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t){for(var e=o.getBCHTypeInfo(this.errorCorrectLevel<<3|0),r=0;15>r;r++){var n=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;15>r;r++){n=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},mapData:function(t,e){for(var r=0,n=0,i=this.moduleCount-1,h=this.moduleCount-1;1<=i;i-=2)for(6==i&&i--;0<=h;){for(var u=0;2>u;u++)if(null==this.modules[i-u][h]){var c=!1;n<t.length&&(c=1==(t[n]>>>7-r&1)),this.modules[i-u][h]=c,r++;0==n||8==r?(n++,r=0):r>7&&(r=0,n++)}h-=1==e?-1:1}if(0!=n)throw new Error("data cache doesn't fit")},createData:function(t,r,n){for(var i=o.getRSBlocks(t,r),h=new i,l=0;l<n.length;l++){var s=n[l];h.put(s.mode,4),h.put(s.getLength(),o.getLengthInBits(s.mode,t)),s.write(h)}for(var d=0,o=0,v=i.length;v>o;o++)d+=i[o].dataCount;if(h.getLengthInBits()>8*d)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+8*d+")");for(h.getLengthInBits()+4<=8*d&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=8*d);)h.put(o.PAD0,8),h.getLengthInBits()>=8*d||h.put(o.PAD1,8);return e.createBytes(h,i)},createBytes:function(t,e){for(var r=0,n=0,i=new Array(e.length);n<e.length;n++)i[n]=new Array(e[n].dataCount);var h=0,u=0;for(r=0;r<t.buffer.length;r++){var c=t.buffer[r];i[h][u]=c,u++,u==i[h].length&&(h++,u=0)}var f=new Array(e.length);for(n=0;n<e.length;n++)f[n]=new Array(e[n].totalCount);var a=0,l=0;for(u=0;u<i.length;u++)for(c=0;c<i[u].length;c++)f[l][a]=i[u][c],a++,a==f[l].length&&(l++,a=0);return f}};var v=function(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var r=0;for(r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]};v.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<e.length;r++)e[r]=0;for(r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=o.gexp(o.glog(this.get(r))+o.glog(t.get(n)));return new v(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=o.glog(this.get(0))-o.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<t.getLength();n++)r[n]^=o.gexp(o.glog(t.get(n))+e);return new v(r,0).mod(t)}},o.glog=function(t){if(1>t)throw new Error("glog("+t+")");return o.LOG_TABLE[t]},o.gexp=function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return o.EXP_TABLE[t]},o.EXP_TABLE=new Array(256),o.LOG_TABLE=new Array(256);for(var p=0;8>p;p++)o.EXP_TABLE[p]=1<<p;for(p=8;256>p;p++)o.EXP_TABLE[p]=o.EXP_TABLE[p-4]^o.EXP_TABLE[p-5]^o.EXP_TABLE[p-6]^o.EXP_TABLE[p-8];for(p=0;255>p;p++)o.LOG_TABLE[o.EXP_TABLE[p]]=p;var m=function(t,e){this.totalCount=t,this.dataCount=e};e.RS_BLOCK_TABLE=[[],[1,26,19],[1,44,34],[1,70,55],[1,100,80],[1,134,108],[2,86,68],[2,98,78],[2,121,97],[2,146,116],[2,86,68,2,87,69],[2,98,78,2,100,80],[2,121,97,2,122,98],[2,146,116,3,147,117],[2,86,68,2,87,69,2,88,70],[2,98,78,2,100,80,2,101,81],[2,121,97,2,122,98,2,123,99],[2,146,116,3,147,117,2,148,118],[2,86,68,2,87,69,2,88,70,2,89,71],[2,98,78,2,100,80,2,101,81,2,102,82],[2,121,97,2,122,98,2,123,99,2,124,100],[2,146,116,3,147,117,2,148,118,2,149,119],[2,86,68,2,87,69,2,88,70,2,89,71,2,90,72],[2,98,78,2,100,80,2,101,81,2,102,82,2,103,83],[2,121,97,2,122,98,2,123,99,2,124,100,2,125,101],[2,146,116,3,147,117,2,148,118,2,149,119,2,150,120],[2,86,68,2,87,69,2,88,70,2,89,71,2,90,72,2,91,73],[2,98,78,2,100,80,2,101,81,2,102,82,2,103,83,2,104,84],[2,121,97,2,122,98,2,123,99,2,124,100,2,125,101,2,126,102],[2,146,116,3,147,117,2,148,118,2,149,119,2,150,120,2,151,121],[2,86,68,2,87,69,2,88,70,2,89,71,2,90,72,2,91,73,2,92,74],[2,98,78,2,100,80,2,101,81,2,102,82,2,103,83,2,104,84,2,105,85],[2,121,97,2,122,98,2,123,99,2,124,100,2,125,101,2,126,102,2,127,103],[2,146,116,3,147,117,2,148,118,2,149,119,2,150,120,2,151,121,2,152,122],[2,86,68,2,87,69,2,88,70,2,89,71,2,90,72,2,91,73,2,92,74,2,93,75],[2,98,78,2,100,80,2,101,81,2,102,82,2,103,83,2,104,84,2,105,85,2,106,86],[2,121,97,2,122,98,2,123,99,2,124,100,2,125,101,2,126,102,2,127,103,2,128,104],[2,146,116,3,147,117,2,148,118,2,149,119,2,150,120,2,151,121,2,152,122,2,153,123],[2,86,68,2,87,69,2,88,70,2,89,71,2,90,72,2,91,73,2,92,74,2,93,75,2,94,76],[2,98,78,2,100,80,2,101,81,2,102,82,2,103,83,2,104,84,2,105,85,2,106,86,2,107,87],[2,121,97,2,122,98,2,123,99,2,124,100,2,125,101,2,126,102,2,127,103,2,128,104,2,129,105],[2,146,116,3,147,117,2,148,118,2,149,119,2,150,120,2,151,121,2,152,122,2,153,123,2,154,124]],e.getRSBlocks=function(t,e){var r=o.getRsBlockTable(t,e);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],h=0;n>h;h++)for(var u=r[3*h+0],c=r[3*h+1],f=r[3*h+2],a=0;u>a;a++)i.push(new n(c,f));return i},o.getRsBlockTable=function(t,e){switch(e){case o.ERROR_CORRECT_L:return e.RS_BLOCK_TABLE[4*(t-1)+0];case o.ERROR_CORRECT_M:return e.RS_BLOCK_TABLE[4*(t-1)+1];case o.ERROR_CORRECT_Q:return e.RS_BLOCK_TABLE[4*(t-1)+2];case o.ERROR_CORRECT_H:return e.RS_BLOCK_TABLE[4*(t-1)+3];default:return void 0}};var y=function(t,e){this.buffer=[],this.length=0,this.putBit=function(t){this.buffer[this.length>>3]|=t<<7-this.length%8,this.length++},this.put=function(t,e){for(var r=0;e>r;r++)this.putBit(1==(t>>>e-r-1&1))}};y.prototype={getLengthInBits:function(){return this.length},put:function(t,e){for(var r=0;e>r;r++)this.putBit(1==(t>>>e-r-1&1))},putBit:function(t){this.buffer[this.length>>3]|=t<<7-this.length%8,this.length++}};var q=function(){this.getAt=function(t){return this._canvas?this._canvas.getContext("2d").getImageData(0,0,t,t).data:null},this.clear=function(){if(this._el)for(;this._el.hasChildNodes();)this._el.removeChild(this._el.firstChild)},this.makeImage=function(t){if(this._canvas){var e=this._canvas.toDataURL("image/png");this._el&&this._el.childNodes.length>0&&(this._el.removeChild(this._el.firstChild),this._el.appendChild(function(t){var e=new Image;return e.src=t,e}(e)))}else this._el&&(this._el.innerHTML=""),this._el&&this._el.appendChild(function(t){var e=document.createElement("img");return e.alt="QR Code",e.src=t,e}(t))}};c.prototype.draw=function(t){var e=this._htOption,r=this._el,n=document.createElement("div"),i=t.getModuleCount(),h=e.width/i,u=e.height/i;n.style.position="relative",n.style.width=e.width+"px",n.style.height=e.height+"px",n.style.left="0",n.style.top="0";for(var c=0;i>c;c++)for(var f=0;i>f;f++)if(t.isDark(c,f)){var a=document.createElement("div");a.style.position="absolute",a.style.left=f*h+"px",a.style.top=c*u+"px",a.style.width=h+"px",a.style.height=u+"px",a.style.backgroundColor=e.colorDark,a.style.border="0 solid #000",a.style.boxSizing="border-box",n.appendChild(a)}r&&(r.innerHTML="",r.appendChild(n))},c.prototype.makeImage=function(t){this._el&&(this._el.innerHTML="",this._el.appendChild(function(t){var e=document.createElement("img");return e.alt="QR Code",e.src=t,e}(t)))};var b=function(t){this._el=t,this._oQRCode=null,this._htOption={width:256,height:256,text:"",colorDark:"#000000",colorLight:"#ffffff",correctLevel:o.CorrectLevel.H}},C=b.prototype;C.makeCode=function(t){this._htOption.text=t,this._oQRCode=new e(a(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(this._htOption.text),this._oQRCode.make(),this._el&&(this._el.innerHTML=""),new c(this._el,this._htOption).draw(this._oQRCode)},C.makeImage=function(t){this._htOption.text=t,this._oQRCode=new e(a(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(this._htOption.text),this._oQRCode.make();var r=n.createBytes(this._oQRCode.getData());return new f(r,this._htOption).toDataURL()},C.clear=function(){this._oQRCode=null,this._el&&(this._el.innerHTML="")},C.setWidth=function(t){this._htOption.width=t},C.setHeight=function(t){this._htOption.height=t},C.setColorDark=function(t){this._htOption.colorDark=t},C.setColorLight=function(t){this._htOption.colorLight=t},C.setCorrectLevel=function(t){this._htOption.correctLevel=t},b.CorrectLevel={L:o.ERROR_CORRECT_L,M:o.ERROR_CORRECT_M,Q:o.ERROR_CORRECT_Q,H:o.ERROR_CORRECT_H},"function"==typeof define&&define.amd?define(function(){return b}):"undefined"!=typeof module&&module.exports?module.exports=b:window.QRCode=b})();
