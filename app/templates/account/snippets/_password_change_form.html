{% load i18n allauth form_widgets %}
<div class="w3-padding-large">
    {% url 'account_change_password' as action_url %}
    <form method="post" action="{{ action_url }}" class="w3-container w3-padding-16" aria-label="{% trans 'Change password form' %}">
        {% csrf_token %}
        {{ redirect_field }}
        {% for hidden in form.hidden_fields %}
            {{ hidden }}
        {% endfor %}
        {% for field in form.visible_fields %}
            <div class="w3-section">
                <label for="{{ field.id_for_label }}" class="w3-text-dark-grey w3-small w3-uppercase">
                    {{ field.label }}
                </label>
                {% render_form_field field css_class="w3-input w3-border w3-round-large" placeholder=field.label %}
                {% if field.errors %}
                    <div class="w3-text-red w3-small" role="alert">
                        {{ field.errors|join:" " }}
                    </div>
                {% endif %}
                {% if field.help_text %}
                    <p class="w3-small w3-text-gray">{{ field.help_text }}</p>
                {% endif %}
            </div>
        {% endfor %}
        <button type="submit" class="w3-button w3-brown w3-round-xlarge w3-block w3-padding-large">
            <span class="fa-solid fa-unlock" aria-hidden="true"></span>
            <span class="w3-margin-left">{% trans "Change Password" %}</span>
        </button>
    </form>
    <p class="w3-small w3-text-gray w3-margin-top">
        <a href="{% url 'account_reset_password' %}" class="w3-text-brown">
            {% trans "Forgot Password?" %}
        </a>
    </p>
</div>
