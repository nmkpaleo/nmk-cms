{% load i18n static socialaccount %}
<section class="w3-container w3-padding-64 w3-sand" aria-label='{% trans "Authentication layout" %}'>
    <div class="w3-content">
        <div class="w3-row-padding w3-stretch">
            <article class="w3-col l7 m7 s12" role="region" aria-labelledby="auth-layout-heading">
                <div class="w3-card w3-white w3-round-xlarge w3-padding-large w3-animate-opacity">
                    <header class="w3-center w3-margin-bottom">
                        <span class="fa-solid fa-shield-halved w3-xxlarge" aria-hidden="true"></span>
                        <h1 id="auth-layout-heading" class="w3-xxlarge w3-margin-top">
                            {{ auth_layout_title|default:_('Welcome back') }}
                        </h1>
                        <p class="w3-text-gray">
                            {{ auth_layout_subtitle|default:_('Access your NMK account securely.') }}
                        </p>
                    </header>
                    <div class="w3-margin-top">
                        {% if auth_layout_body_template %}
                            {% include auth_layout_body_template %}
                        {% elif auth_layout_body %}
                            {{ auth_layout_body }}
                        {% else %}
                            <p class="w3-text-grey">{% trans "Provide content via auth_layout_body or auth_layout_body_template." %}</p>
                        {% endif %}
                    </div>
                </div>
            </article>
            <aside class="w3-col l5 m5 s12" aria-labelledby="auth-layout-aside">
                <div class="w3-padding-large w3-center">
                    <figure class="w3-margin-bottom">
                        <img src="{% static 'images/animal_skull.png' %}"
                             class="w3-image w3-round-xxlarge w3-card"
                             alt="{% trans 'Animal skull illustration' %}"
                             loading="lazy">
                        <figcaption id="auth-layout-aside" class="w3-small w3-text-gray w3-margin-top">
                            {% trans "Our museum-inspired identity keeps your data safe." %}
                        </figcaption>
                    </figure>
                    <div class="w3-panel w3-round-large w3-pale-green w3-border w3-border-green">
                        <p class="w3-medium">
                            {% trans "Prefer to sign in with your ORCID identity?" %}
                        </p>
                        {% get_providers as socialaccount_providers %}
                        {% for provider in socialaccount_providers %}
                            {% if provider.id == "orcid" %}
                                {% provider_login_url provider process=auth_layout_orcid_process|default:'login' as auth_layout_orcid_url %}
                                <a class="w3-button w3-green w3-round-xlarge w3-block w3-large w3-margin-top"
                                   href="{{ auth_layout_orcid_url }}"
                                   rel="nofollow"
                                   aria-label='{% trans "Continue with ORCID" %}'>
                                    <span class="w3-margin-right" aria-hidden="true">
                                        <svg width="24" height="24" viewBox="0 0 24 24" role="img" aria-hidden="true"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <title>{% trans "ORCID" %}</title>
                                            <circle cx="12" cy="12" r="12" fill="#A6CE39" />
                                            <path fill="#fff" d="M10.54 6.12h1.52v11.76h-1.52zM8.05 17.88H6.5V6.12h3.09c2.56 0 4.14 1.68 4.14 3.88 0 2.23-1.63 3.96-4.16 3.88H8.05zM8.02 7.47v5.09h1.55c1.85 0 2.65-1 2.65-2.52 0-1.49-.87-2.57-2.65-2.57zM15.43 10.29a1.34 1.34 0 1 1 1.34 1.34 1.33 1.33 0 0 1-1.34-1.34zm.08 2.16h2.52v5.43h-2.52z" />
                                        </svg>
                                    </span>
                                    <span class="w3-semibold">{% trans "Sign in with ORCID" %}</span>
                                </a>
                            {% endif %}
                        {% empty %}
                            <p class="w3-text-red">{% trans "ORCID login is not available right now." %}</p>
                        {% endfor %}
                    </div>
                </div>
            </aside>
        </div>
    </div>
</section>
