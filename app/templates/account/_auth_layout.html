{% load i18n static socialaccount %}
<section class="w3-container w3-padding-64 w3-sand" aria-label='{% trans "Authentication layout" %}'>
    <div class="w3-content">
        <div class="w3-row-padding w3-stretch">
            <article class="w3-col l7 m7 s12" role="region" aria-labelledby="auth-layout-heading">
                <div class="w3-card w3-white w3-round-xlarge w3-padding-large w3-animate-opacity">
                    <header class="w3-center w3-margin-bottom">
                        <span class="fa-solid fa-shield-halved w3-xxlarge" aria-hidden="true"></span>
                        <h1 id="auth-layout-heading" class="w3-xxlarge w3-margin-top">
                            {{ auth_layout_title|default:_('Welcome back') }}
                        </h1>
                        <p class="w3-text-gray">
                            {{ auth_layout_subtitle|default:_('Access your NMK account securely.') }}
                        </p>
                    </header>
                    <div class="w3-margin-top">
                        {% if auth_layout_body_template %}
                            {% include auth_layout_body_template %}
                        {% elif auth_layout_body %}
                            {{ auth_layout_body }}
                        {% else %}
                            <p class="w3-text-grey">{% trans "Provide content via auth_layout_body or auth_layout_body_template." %}</p>
                        {% endif %}
                    </div>
                </div>
            </article>
            <aside class="w3-col l5 m5 s12" aria-labelledby="auth-layout-aside">
                <div class="w3-padding-large w3-center">
                    <figure class="w3-margin-bottom">
                        <img src="{% static 'images/animal_skull.png' %}"
                             class="w3-image w3-round-xxlarge w3-card"
                             alt="{% trans 'Animal skull illustration' %}"
                             loading="lazy">
                    </figure>
                    <div class="w3-panel w3-round-large w3-pale-green w3-border w3-border-green">
                        <p class="w3-medium">
                            {% trans "Prefer to sign in with your ORCID identity?" %}
                        </p>
                        {% get_providers as socialaccount_providers %}
                        {% for provider in socialaccount_providers %}
                            {% if provider.id == "orcid" %}
                                {% provider_login_url provider process=auth_layout_orcid_process|default:'login' as auth_layout_orcid_url %}
                                <a class="w3-button w3-green w3-round-xlarge w3-block w3-large w3-margin-top"
                                   href="{{ auth_layout_orcid_url }}"
                                   rel="nofollow"
                                   aria-label='{% trans "Continue with ORCID" %}'>
                                    <span class="w3-margin-right" aria-hidden="true">
                                        <img src="{% static 'images/orchid log.png' %}"
                                             width="32"
                                             height="32"
                                             alt="{% trans 'ORCID logo' %}"
                                             class="w3-image"
                                             loading="lazy">
                                    </span>
                                    <span class="w3-semibold">{% trans "Sign in with ORCID" %}</span>
                                </a>
                            {% endif %}
                        {% empty %}
                            <p class="w3-text-red">{% trans "ORCID login is not available right now." %}</p>
                        {% endfor %}
                    </div>
                </div>
            </aside>
        </div>
    </div>
</section>
