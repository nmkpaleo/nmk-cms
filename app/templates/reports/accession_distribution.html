{% extends "base_generic.html" %}
{% load static %}

{% block title %}Accession Distribution Report{% endblock %}

{% block content %}
<div class="w3-content w3-padding-32 w3-animate-opacity">
  <h2 class="w3-center w3-margin-bottom">Accession Distribution per Locality</h2>

  {% if message %}
    <p class="w3-center w3-text-grey">{{ message }}</p>
  {% else %}
    <!-- Locality chart -->
    <div class="w3-card w3-round-large w3-padding-large w3-white w3-margin-bottom">
      {{ chart_locality|safe }}
    </div>

    <!-- Table -->
    <div class="w3-card w3-round-large w3-padding-large w3-white">
      <h5 class="w3-center w3-margin-bottom">Summary Table</h5>
      <table class="w3-table-all w3-striped w3-bordered">
        <thead>
          <tr>
            <th>Locality</th>
            <th>Number of Accessions</th>
          </tr>
        </thead>
        <tbody>
          {% for row in locality_table %}
          <tr>
            <td>{{ row.Locality }}</td>
            <td>{{ row.Accessions }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% endif %}
</div>
{% endblock %}
