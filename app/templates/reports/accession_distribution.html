{% extends "base_generic.html" %}
{% load static %}

{% block title %}Accession Distribution Report{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="text-center mb-4">Accession Distribution per Locality</h2>

  {% if message %}
    <p class="text-center text-muted">{{ message }}</p>
  {% else %}
    <!-- Locality chart -->
    <div class="chart-section mb-5">
      {{ chart_locality|safe }}
    </div>

    <!-- Table -->
    <div class="chart-section">
      <h5 class="text-center mb-3">Summary Table</h5>
      <table class="table table-striped table-bordered">
        <thead class="table-light">
          <tr>
            <th>Locality</th>
            <th>Number of Accessions</th>
          </tr>
        </thead>
        <tbody>
          {% for row in locality_table %}
          <tr>
            <td>{{ row.Locality }}</td>
            <td>{{ row.Accessions }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% endif %}
</div>

<style>
  body {
    font-family: "Inter", Arial, sans-serif;
    background-color: #f8f9fa;
  }
  .chart-section {
    background: #fff;
    padding: 1.5rem;
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }
</style>
{% endblock %}
