{% extends "base_generic.html" %}
{% load static user_tags %}

{% block title %}Media OCR Report{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/reports.css' %}">

<div class="w3-content w3-padding-32 w3-animate-opacity">

    <h2 class="w3-center w3-margin-bottom">OCR Processing Summary</h2>

    {% if summary %}
    <div class="summary w3-card w3-round-large">
        <h5><strong>Total Media Files:</strong> {{ summary.total }}</h5>
        <h5><strong>Completed OCR:</strong> {{ summary.completed }}</h5>
        <h5><strong>Completion Rate:</strong> {{ summary.completion_rate }}%</h5>
    </div>
    {% endif %}

    <div class="chart-container w3-card w3-round-large">
        {% if chart_html %}
            {{ chart_html|safe }}
        {% else %}
            <p class="message">{{ message|default:"No media data available for reporting yet." }}</p>
        {% endif %}
    </div>

    {% if daily_chart_html %}
    <div class="chart-container w3-card w3-round-large">
        {{ daily_chart_html|safe }}
    </div>
    {% endif %}

</div>
{% endblock %}

{% block extra_scripts %}
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
{% endblock %}
